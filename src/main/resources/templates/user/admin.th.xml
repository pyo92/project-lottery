<?xml version="1.0" ?>
<thlogic>
    <attr sel="#header" th:replace="~{header :: header}"/>
    <attr sel="#footer" th:replace="~{footer :: footer}"/>

    <attr sel="#api-status"
          th:text="${#strings.isEmpty(runningUrl) ? '&#9989 작업 가능' : '&#8987 작업중 - ' + runningUrl}"/>

    <attr sel=".api"
          th:each="api, idx : ${apis}">
        <attr sel=".api-info">
            <attr sel=".api-url">
                <attr sel="span[0]"
                      th:id="${'apiUrl' + (idx.index + 1)}"
                      th:text="${api.url}"/>
            </attr>
            <attr sel=".api-params">
                <attr sel="#param1">
                    <attr sel="span[0]"
                          th:text="${(idx.index == 0 ? 'state=&nbsp;' : 'start=&nbsp;')}"/>
                    <attr sel="input[0]"
                          th:id="${'api' + (idx.index + 1) + 'Param1'}"/>
                </attr>
                <attr sel="#param2"
                      th:style="${idx.index == 0 ? 'display: none;' : ''}">
                    <attr sel="input[0]"
                          th:id="${'api' + (idx.index + 1) + 'Param2'}"/>
                </attr>
            </attr>
            <attr sel="button"
                  th:id="${'btnApiRun' + (idx.index + 1)}"
                  th:disabled="${#bools.isTrue(runningYn)}"
                  th:classappend="${#bools.isFalse(runningYn) ? 'btn-success label-mini-title label-white' :
                                    (#strings.equals(runningUrl, api.url) ? 'btn-danger label-mini-title label-white' : 'btn-secondary label-mini-title label-white')}"
                  th:style="${#bools.isFalse(runningYn) ? '' :
                              (#strings.equals(runningUrl, api.url) ? '' : 'display: none;')}"
                  th:text="${#bools.isFalse(runningYn) ? '시작' :
                            (#strings.equals(runningUrl, api.url) ? '실행중' : '대기')}"/>
        </attr>
        <attr sel=".api-time">
            <attr sel="span[1]"
                  th:text="${api.toStringModifiedAt}"/>
        </attr>
    </attr>
</thlogic>
